<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml" 
      xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorate="~{fragments/layout}">
    <head>
        <meta charset="UTF-8" />
    </head>
    <body>

        <div  layout:fragment="corpo">

            <div th:replace="fragments/alert :: alerta-sucesso"></div>	

            <form th:action="${categoria.id == null} ? @{/categorias/salvar} : @{/categorias/editar}"
                  th:object="${categoria}"	method="POST" class="was-validated">
                <div class="form-row">
                    <div class="form-group row">
                        <label for="nome" class="col-sm-2 col-form-label">Categoria </label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control"  th:field="*{nome}" id="nome" 
                                   required/>
                            <div class="invalid-feedback">Categoria  Ã© requerido.</div>
                        </div>                                             


                        <input type="hidden" name="id" th:field="*{id}"/>	


                        <div class="col-sm-4">
                            <input type="submit" class="btn btn-primary " value="Salvar"/>
                        </div>

                    </div>

                </div>    
            </form>

            <hr/>

            <h2>Lista de Categorias</h2>

            <table id="table-categoria" class="table table-sm table-striped table-bordered nowrap" style="width:100%">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Categoria</th>
                        <th scope="col">Editar</th>
                        <th scope="col">Excluir</th>
                    </tr>
                </thead>
            </table>
        </div>


        <script  th:src="@{/js/categoria.js}" th:fragment="js"></script>
        <script th:inline="javascript" th:fragment="inlinescript"></script>
    </body>
</html>