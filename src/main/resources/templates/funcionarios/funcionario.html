<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/layout}">
    <head>
        <title>Cadastrar Funcionários</title>
    </head>
    <body>

        <div  layout:fragment="corpo">

            <div class="d-flex justify-content-center">
                <div class="col-md-10">

                    <div th:replace="~{fragments/alert :: alerta-sucesso}"/>

                    <form th:action="${funcionario.id == null} ? @{/funcionarios/salvar} : @{/funcionarios/editar}"   th:object="${funcionario}"	method="POST" class="was-validated">
                        <div class="mb-3 row">
                            <label for="nome" class="col-sm-2 col-form-label">Nome</label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" th:field="*{nome}" id="nome"  required/>
                            </div>
                        </div>

                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="sobrenome">Sobrenome </label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" th:field="*{sobrenome}" id="sobrenome" required/>
                            </div>
                        </div>

                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="nascimento" >Nascimento</label> 
                            <div class="col-sm-2">
                                <input type="date" class="form-control " id="nascimento" th:field="*{nascimento}" required />
                            </div>
                        </div>

                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="mae"> Mãe </label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" th:field="*{mae}" id="mae"  />
                            </div>
                        </div>

                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="pai">Pai</label>  
                            <div class="col-sm-6">
                                <input type="text" class="form-control "  th:field="*{pai}" id="pai"   />

                            </div>
                        </div>

                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="naturalidade" >Naturalidade</label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" th:field="*{naturalidade}" id="naturalidade"  />

                            </div>
                        </div>

                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="clt">CLT</label> 
                            <div class="col-sm-3">
                                <input type="text" class="form-control" id="clt"  th:field="*{clt}" required />

                            </div>
                        </div>

                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="cpf" >CPF</label> 
                            <div class="col-sm-3">
                                <input type="text" class="form-control "  id="cpf" data-mask="000.000.000-00" data-mask-selectonfocus="true" 
                                       th:field="*{cpf}"  required maxlength="14" minlength="5" />

                            </div>
                        </div>

                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="rg" >RG</label> 
                            <div class="col-sm-3">
                                <input type="text" class="form-control " id="rg" maxlength="14" minlength="5"  th:field="*{rg}" required />
                            </div>

                        </div>


                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label"  for="lotacao" >Lotação</label> 
                            <div class="col-sm-4">
                                <select class="form-control" th:field="*{lotacao}" >
                                    <option class="form-check-input" th:each="lotacao : ${lotacoes}"   th:value="${lotacao.id}" th:text="${lotacao.nome}" id="lotacao" />
                                </select> 

                            </div>
                        </div>
                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="departamento" >Departamento</label> 
                            <div class="col-sm-4">
                                <select class="form-control " th:field="*{departamento}"  >                               
                                    <option  th:each="departamento : ${departamentos}"  class="form-check-input" th:value="${departamento.id}" th:text="${departamento.nome}" id="departamento" />
                                </select>  
                            </div>

                        </div>
                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label"  for="cargo" >Cargo</label> 
                            <div class="col-sm-4">
                                <select class="form-control"  th:field="*{cargo}" >
                                    <option th:each="cargo : ${cargos}"  class="form-check-input" th:value="${cargo.id}" th:text="${cargo.nome}" id="cargo"  />
                                </select>                 
                            </div>
                        </div>
                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="salario" >salário</label> 
                            <div class="col-sm-3">
                                <input type="text" class="form-control " id="salario"  th:field="*{salario}"  />
                            </div>

                        </div>
                        <div class="mb-3 row">
                            <label class="col-sm-2 col-form-label" for="estado_civil">Estado Civil</label> 

                            <th:block th:each="estado_civil : ${T(br.ind.cmil.gestao.model.enums.EstadoCivil).values()}" >
                                <div class="form-check">
                                    <input type="radio"  class="form-check-input"  id="estado_civil"  th:field="*{estado_civil}" th:value="${estado_civil.name()}" th:text="${estado_civil.name()}" checked />

                                </div>

                            </th:block>
                        </div>

                        <div class="mb-3 row">


                            <label class="col-sm-2 col-form-label" for="genero">Genero</label>
                            <th:block th:each="genero : ${T(br.ind.cmil.gestao.model.enums.Genero).values()}" >
                                <div class="form-check">
                                    <input type="radio"  class="form-check-input"  th:field="*{genero}" id="genero" th:value="${genero.name()}" th:text="${genero.name()}" checked />
                                </div>
                            </th:block>
                        </div>


                        <input type="hidden" th:field="*{id}"/>	

                        <div class="col-12">
                            <button type="submit" class="btn btn-primary mb-3">salvar</button>
                        </div>


                    </form>

                    <hr/>

                    <h2>Lista de Funcionários</h2>

                    <table id="table-funcionario" class="table table-sm table-striped table-bordered nowrap" style="width:100%">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">NOME </th>
                                <th scope="col">SOBRENOME</th>
                                <th scope="col">NASCIMENTO</th>                     
                                <th scope="col">CPF</th>
                                <th scope="col">RG</th>
                                <th scope="col">CLT</th>
                                <th scope="col">MÃE</th>
                                <th scope="col">PAI</th>
                                <th scope="col">GENERO</th>
                                <th scope="col">ES</th>
                                <th scope="col">NATURALIDADE</th>
                                <th scope="col">ADMISSÃO</th>                               
                                <th scope="col">SALÁRIO</th>                               
                                <th scope="col">FUNÇÃO</th>
                                <th scope="col">DEPARTAMENTO</th>
                                <th scope="col">LOCAÇAO</th>
                                <th scope="col">EDITAR</th>                                       
                                <th scope="col">ECLUIR</th>     


                            </tr>
                        </thead>
                    </table>


                </div>
            </div>
        </div>


        <script  th:src="@{/js/funcionarios.js}" th:fragment="js"></script>
        <script th:src="@{/js/mascaras.js(v=${version})}" th:fragment="js"></script>
        <script th:inline="javascript" th:fragment="inlinescript">

        </script>
    </body>
</html>




















